<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Base Title</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- <link rel="stylesheet" href='css/style.css'> -->
    <style>
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            z-index: 1000;
        }
        .modal-content {
            position: relative;
            background-color: white;
            margin: 15% auto;
            padding: 20px;
            width: 80%;
            max-width: 500px;
            border-radius: 8px;
            text-align: center;
        }
        .close-modal {
            position: absolute;
            right: 10px;
            top: 10px;
            cursor: pointer;
            font-size: 24px;
        }
    </style>
</head>
<body>
    
    <header>
        <nav class="border-b border-grey-300">
            <div class = "max-w-6xl mx-auto py-2 px-6 xl:px-0 flex items-center justify-between">
                <div class="menu-left flex items-center space-x-6">
                    <a href="#" class="py-4 text-lg text-purple-500 font-semibold">Almari</a>
                    <ul class="flex items-center space-x-4">
                        <li><a href="#">first</a></li>
                        <li><a href="#">second</a></li>
                        <li><a href="#">third</a></li>
                        <li><a href="#">fourth</a></li>
                    </ul>
                </div>
                <div class="menu-right flex items-center space-x-4">
                    <form action="#" method="get" class="relative" id="searchForm" onsubmit="return handleSearch(event)">
                        <input type="text" name="query" id="searchInput" placeholder="Search products..." class="pl-3 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-purple-500">
                        <button type="submit" class="absolute right-2 top-1/2 transform -translate-y-1/2">
                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5 text-gray-500">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z" />
                            </svg>
                        </button>
                    </form>
                    <div class="relative" id="profile-dropdown">
                        <button class="flex items-center space-x-1" onclick="toggleDropdown()" aria-expanded="false" aria-haspopup="true">
                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M17.982 18.725A7.488 7.488 0 0 0 12 15.75a7.488 7.488 0 0 0-5.982 2.975m11.963 0a9 9 0 1 0-11.963 0m11.963 0A8.966 8.966 0 0 1 12 21a8.966 8.966 0 0 1-5.982-2.275M15 9.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z" />
                            </svg>
                        </button>
                        <div id="dropdown-menu" class="absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg py-1 hidden">
                        <script>
                            function toggleDropdown() {
                                const dropdownMenu = document.getElementById('dropdown-menu');
                                const button = document.querySelector('#profile-dropdown button');
                                const isExpanded = button.getAttribute('aria-expanded') === 'true';
                                
                                dropdownMenu.classList.toggle('hidden');
                                button.setAttribute('aria-expanded', !isExpanded);
                            }

                            // Close dropdown when clicking outside
                            document.addEventListener('click', function(event) {
                                const dropdown = document.getElementById('profile-dropdown');
                                const dropdownMenu = document.getElementById('dropdown-menu');
                                const button = dropdown.querySelector('button');

                                if (!dropdown.contains(event.target) && !dropdownMenu.classList.contains('hidden')) {
                                    dropdownMenu.classList.add('hidden');
                                    button.setAttribute('aria-expanded', 'false');
                                }
                            });
                        </script>
                            <div class="px-4 py-2 text-sm text-gray-700 font-semibold border-b">My Profile</div>
                            <a href="{% url 'users:view_profile' %}" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">View Profile</a>
                            <a href="{% url 'users:edit_profile' %}" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">Edit Profile</a>
                            <a href="#" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">My Cart</a>
                            <a href="#" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">My Projects</a>
                            <a href="{% url 'core:social_wall' %}" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">Social Wall</a>
                            <a href="{% url 'login' %}" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">Logout</a>
                        </div>
                    </div>
                </div>
            </div>
        </nav>
    </header>
    <main>
        {% block content %}
        {% endblock %}
    </main>
    <footer class="bg-green-100">
        <div class = "max-w-6xl mx-auto py-10 px-6 xl:px-0 md:flex justify-between">
            <div class="footer-left mb-12 md:mb-0">
                <h2 class = "mb-5 uppercase text-lg">About Us</h2>
                <p class = "text-gray-600">Almari is a platform that connects people with similar interests and hobbies. We aim to create a community where individuals can share their passions and learn from each other.</p>
            </div>
            <div class="footer-right ">
                <h2 class="mb-5 uppercase text-lg">Contact Us</h2>
                <ul class="space-y-2">
                    <li><a href="#" class="text-purple-500 hover:text-purple-800">Facebook</a></li>
                    <li><a href="#" class="text-purple-500 hover:text-purple-800">Twitter/X</a></li>
                    <li><a href="#" class="text-purple-500 hover:text-purple-800">Instragram</a></li>
                    <li><a href="#" class="text-purple-500 hover:text-purple-800">Mail</a></li>
                </ul>
            </div>
        </div>
        <p class="text-gray-600 px-3 py-3">&copy; 2023 Almari</p>
    </footer>
    <!-- Modal for No Results -->
    <div id="noResultsModal" class="modal">
        <div class="modal-content">
            <span class="close-modal" onclick="closeModal()">&times;</span>
            <p class="text-xl font-semibold text-gray-800">No Results Found</p>
            <p class="mt-2 text-gray-600">No such product found. Please try a different search term.</p>
        </div>
    </div>

    <script>
        function handleSearch(event) {
            event.preventDefault();
            const searchTerm = document.getElementById('searchInput').value.trim();
            
            if (searchTerm === '') {
                showNoResultsModal();
                return false;
            }
            
            // Here you would typically make an AJAX call to your backend
            // For now, we'll simulate no results
            showNoResultsModal();
            return false;
        }

        function showNoResultsModal() {
            document.getElementById('noResultsModal').style.display = 'block';
        }

        function closeModal() {
            document.getElementById('noResultsModal').style.display = 'none';
        }

        // Close modal when clicking outside of it
        window.onclick = function(event) {
            const modal = document.getElementById('noResultsModal');
            if (event.target === modal) {
                modal.style.display = 'none';
            }
        }
    </script>
</body>
</html>